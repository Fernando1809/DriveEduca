<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/css/adminlte.min.css">
  <link rel="stylesheet" href="style.css">
  <script src="https://kit.fontawesome.com/eaad19a530.js" crossorigin="anonymous"></script>
  <title>DriveEduca</title>
</head>

<body>
  <div class="wrapper">
  <div class="color-bar">
  <nav>
    <p class="logo-danicodex">DriveEduca</p>
    <ul class="cont-ul">
      <li><i class="fa-sharp fa-solid fa-house"></i> <a class="menu" href="index.html">Inicio</a></li>
      <li class="list"><i class="fa-solid fa-address-card"></i>
        Licencias
        <ul class="ul-second">
          <li> <a href="licencia_menor.html">Licencia de menoridad</a></li>
          <li> <a href="licencia_motos.html">Licencia de moto</a></li>
          <li> <a href="licencia_liviana.html">Licencia  liviana</a></li>
          <li> <a href="licencia_particular.html">Licencia particular</a></li>
          <li> <a href="licencia_pesada.html">Licencia pesada</a></li>
          <li> <a href="licencia_T.html">Licencia pesada T</a></li>
        </ul>
      </li>
      <li class="list"><i class="fa-solid fa-book"></i>
        <a class="menu" href="reglamento.html">Reglamento de transito </a></li>
    <li class="list"><i class="fa-solid fa-hand-holding-dollar"></i>
        Multas 
        <ul class="ul-second">
            <li> <a href="multas_leves.html">Leves</a></li>
            <li> <a href="multas_graves.html">Graves</a></li>
            <li> <a href="multas_muy_graves.html">Muy graves</a></li>
        </ul>
    </li>
      <li class="list"><i class="fa-solid fa-hand-holding-dollar"></i>
        Multas
        <ul class="ul-second">
          <li> <a href="multas_leves.html">Leves</a></li>
          <li> <a href="multas_graves.html">Graves</a></li>
          <li> <a href="multas_muy_graves.html">Muy graves</a></li>
        </ul>
      </li>
      <li><i class="fa-solid fa-people-group"></i> <a class="menu" href="foro.html">Foro</a></li>
      <li><i class="fa-solid fa-comments"></i> <a class="menu" href="chat.html">Chat</a></li>

      <li><i class="fa-solid fa-right-from-bracket"></i> <a class="menu" href="#" onclick="cerrarSesion()">Cerrar Sesión</a></li>

<script>
  function cerrarSesion() {
    // Mostrar un mensaje de confirmación al usuario
    if (confirm("¿Estás seguro de que deseas cerrar sesión?")) {
      // Aquí puedes agregar la lógica para cerrar la sesión y redirigir al usuario a la página de inicio de sesión
      // Por ejemplo, puedes redirigir al usuario a login.html utilizando window.location.href
      window.location.href = "login.html";
    }
  }
</script>
    </ul>
  </nav>

  <div id="app" class="container">
    <div class="card card-warning direct-chat direct-chat-warning">
      <div class="card-header">
        <h3 class="card-title">Direct Chat</h3>
        <div class="card-tools">
          <span data-toggle="tooltip" title="3 New Messages" class="badge badge-light">3</span>
          <button type="button" class="btn btn-tool" data-card-widget="collapse">
            <i class="fas fa-minus"></i>
          </button>
          <button type="button" class="btn btn-tool" data-toggle="tooltip" title="Contacts"
            data-widget="chat-pane-toggle">
            <i class="fas fa-comments"></i>
          </button>
          <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i></button>
        </div>
      </div>
      <div class="card-body">
        <div class="direct-chat-messages">
          <div class="direct-chat-msg" v-for="message in messages" :key="message.id">
            <div class="direct-chat-infos clearfix">
              <span class="direct-chat-name float-left">{{ message.sender }}</span>
              <span class="direct-chat-timestamp float-right">{{ message.timestamp }}</span>
            </div>
            <img class="direct-chat-img" :src="message.avatar" alt="message user image">
            <div class="direct-chat-text">{{ message.content }}</div>
          </div>
        </div>
        <div class="direct-chat-contacts">
          <ul class="contacts-list">
            <li v-for="contact in contacts" :key="contact.id">
              <a href="#">
                <img class="contacts-list-img" :src="contact.avatar">
                <div class="contacts-list-info">
                  <span class="contacts-list-name">
                    {{ contact.name }}
                    <small class="contacts-list-date float-right">{{ contact.lastSeen }}</small>
                  </span>
                  <span class="contacts-list-msg">{{ contact.lastMessage }}</span>
                </div>
              </a>
            </li>
          </ul>
        </div>
      </div>
      <div class="card-footer">
        <form @submit.prevent="sendMessage">
          <div class="input-group">
            <input type="text" v-model="newMessage" placeholder="Type Message ..." class="form-control">
            <span class="input-group-append">
              <button type="submit" class="btn btn-primary">Send</button>
            </span>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
</div>
<footer class="footer">
  <div class="footer-content">
      <div class="footer-left">
          <p class="rights">Todos los derechos reservados &copy; 2023</p>
      </div>
      <div class="footer-right">
          <a href="https://www.facebook.com" class="social-link"><i class="fab fa-facebook-f"></i></a>
          <a href="https://www.instagram.com" class="social-link"><i class="fab fa-instagram"></i></a>
          <a href="https://web.whatsapp.com/send?phone=+50372649784" class="social-link"><i class="fab fa-whatsapp"></i></a>
          <a href="mailto:driveeduca1@gmail.com" class="social-link"><i class="fas fa-envelope"></i></a>
      </div>
  </div>
</footer>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.14/vue.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/js/adminlte.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.14/vue.min.js"></script>
  <script>
    new Vue({
      el: '#app',
      data: {
        messages: [],
        contacts: [],
        newMessage: ''
      },
      created() {
        // Cargar mensajes desde el LocalStorage al inicializar
        const storedMessages = JSON.parse(localStorage.getItem('messages')) || [];
        this.messages = storedMessages;
      },
      methods: {
          sendMessage() {
            if (!this.newMessage) {
              // Validación de campo de mensaje vacío
              alert('Por favor, ingresa un mensaje');
              return;
            }
            
            // Objeto de datos para el nuevo mensaje
            const newMessageData = {
              id: this.messages.length + 1,
              sender: 'User',
              timestamp: new Date().toLocaleString(),
              avatar: './img/user.jpg',
              content: this.newMessage
            };
            
            // Guardar el mensaje en el LocalStorage
            const storedMessages = JSON.parse(localStorage.getItem('messages')) || [];
            storedMessages.push(newMessageData);
            localStorage.setItem('messages', JSON.stringify(storedMessages));
            
            // Actualizar el array de mensajes localmente
            this.messages.push(newMessageData);
            
            // Limpiar el campo de entrada de mensajes
            this.newMessage = '';
          }
        }      
    });
  </script>

</body>

</html>
